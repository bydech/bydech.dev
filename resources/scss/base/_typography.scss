// ------------------------------------------------------
// TYPOGRAPHY SYSTEM – bydech.dev
// ------------------------------------------------------

// 1. Dependency Imports
// Assumes clamp-calc, px-to-rem, breakpoints, etc. are exported from this index
@use "../abstracts/index" as *;

// ------------------------------------------------------
// 2. Abstract Styles (Placeholders)
// ------------------------------------------------------
// We use %placeholders so we can extend them without bloating CSS

%heading-display {
  @include type-mono(clamp(1.8rem, 13cqi, 4rem), 1.45, 600, -0.02em);
}

// H1: 32px → 48px
%heading-h1 {
  @include type-mono(clamp(1.6rem, 1.133rem + 2.333vw, 3rem), 1.3, 600, -0.02em);
}

// H2: 28px → 36px
%heading-h2 {
  @include type-mono(clamp(1.6rem, 1.342rem + 1.292vw, 2.375rem), 1.3, 600, -0.02em);
}

// H3: 24px → 28px
%heading-h3 {
  @include type-mono(clamp(1.3rem, 1.233rem + 0.333vw, 1.5rem), 1.3, 500, -0.02em);
}

// H4: static 20px
%heading-h4 {
  @include type-mono(px-to-rem(20), 1.4, 500, 0);
}

// Body text
// Note: 18 → 16 means slightly larger on small screens, smaller on large.
%body-display {
  @include type-sans(clamp(1.125rem, 1.1042rem + 0.1042vw, 1.1875rem), 1.5, 400, 0.005em);
}

%body-large {
  @include type-sans(clamp(1.063rem, 1.042rem + 0.104vw, 1.125rem), 1.5, 400, 0.005em);
}

%body-default {
  @include type-sans(clamp(1rem, 0.979rem + 0.104vw, 1.063rem), 1.5, 400, 0.005em);
}

// Small body: 16 → 14
%body-small {
  @include type-sans(clamp(0.938rem, 0.917rem + 0.104vw, 1rem), 1.5, 400, 0.005em);
}

// // ------------------------------------------------------
// // 3. Classes (For use in HTML)
// // ------------------------------------------------------

.heading-display {
  @extend %heading-display;
  hyphens: auto;
}

.heading-h1 {
  @extend %heading-h1;
}
.heading-h2 {
  @extend %heading-h2;
}
.heading-h3 {
  @extend %heading-h3;
}
.heading-h4 {
  @extend %heading-h4;
}

.body-display {
  &,
  & > p {
    @extend %body-display;
    color: #3d3d3d;
  }
}
.body-large {
  &,
  & > p {
    @extend %body-large;
  }
}
.body-default {
  &,
  & > p {
    @extend %body-default;
  }
}
.body-small {
  &,
  & > p {
    @extend %body-small;
  }
}

// // ------------------------------------------------------
// // 4. Global Resets (Attaching to Tags)
// // ------------------------------------------------------

h1,
h2,
h3,
h4,
h5,
h6,
p,
ul,
ol,
dl,
figure,
blockquote {
  margin: 0;
}

h1 {
  @extend %heading-h1;
  margin-bottom: 0.5em;
  color: var(--text-primary);
}

h2 {
  @extend %heading-h2;
  margin-bottom: 0.5em;
  color: var(--text-primary);
}

h3 {
  @extend %heading-h3;
  margin-bottom: 0.5em;
  color: var(--text-primary);
}

h4 {
  @extend %heading-h4;
  margin-bottom: 0.5em;
  color: var(--text-primary);
}

p {
  @extend %body-default;
  max-width: 60ch;
  color: var(--text-secondary);
  text-wrap: pretty;
}

small {
  @extend %body-small;
  color: var(--text-secondary);
}

// // ------------------------------------------------------
// // 5. Spacing Utilities
// // ------------------------------------------------------

.flow > * + * {
  margin-top: var(--flow-space, 1.5em);
}

.flow--tight {
  --flow-space: 0.75em;
}

.flow--loose {
  --flow-space: 3em;
}

.mb-1 {
  margin-bottom: 0.5rem;
}
.mb-2 {
  margin-bottom: 1rem;
}
.mb-4 {
  margin-bottom: 2rem;
}
.mb-8 {
  margin-bottom: 4rem;
}

.m-0 {
  margin: 0;
}
